<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>seisplotjs.mseedarchive 2.0.1 | Documentation</title>
  <meta name='description' content='Javascript library for parsing, manipulating and displaying seismic data.'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'><a href="index.html">seisplotjs</a>.mseedarchive</h3>
          <div class='mb1'><code>2.0.1</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#allowed_flags'
                  class="">
                  Allowed_Flags
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mseedarchive'
                  class=" toggle-sibling">
                  MSeedArchive
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#mseedarchive_rooturl'
                        class='regular pre-open'>
                        #_rootUrl
                      </a></li>
                      
                      <li><a
                        href='#mseedarchive_pattern'
                        class='regular pre-open'>
                        #_pattern
                      </a></li>
                      
                      <li><a
                        href='#mseedarchive_recordsize'
                        class='regular pre-open'>
                        #_recordSize
                      </a></li>
                      
                      <li><a
                        href='#mseedarchive_timeoutsec'
                        class='regular pre-open'>
                        #_timeoutSec
                      </a></li>
                      
                      <li><a
                        href='#mseedarchiverooturl'
                        class='regular pre-open'>
                        #rootUrl
                      </a></li>
                      
                      <li><a
                        href='#mseedarchivepattern'
                        class='regular pre-open'>
                        #pattern
                      </a></li>
                      
                      <li><a
                        href='#mseedarchiverecordsize'
                        class='regular pre-open'>
                        #recordSize
                      </a></li>
                      
                      <li><a
                        href='#mseedarchivecheckpattern'
                        class='regular pre-open'>
                        #checkPattern
                      </a></li>
                      
                      <li><a
                        href='#mseedarchiveloadseismograms'
                        class='regular pre-open'>
                        #loadSeismograms
                      </a></li>
                      
                      <li><a
                        href='#mseedarchiveloaddataforchannel'
                        class='regular pre-open'>
                        #loadDataForChannel
                      </a></li>
                      
                      <li><a
                        href='#mseedarchiveloaddata'
                        class='regular pre-open'>
                        #loadData
                      </a></li>
                      
                      <li><a
                        href='#mseedarchivefillbasepattern'
                        class='regular pre-open'>
                        #fillBasePattern
                      </a></li>
                      
                      <li><a
                        href='#mseedarchivefilltimepattern'
                        class='regular pre-open'>
                        #fillTimePattern
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#loaddatarecords'
                  class="">
                  loadDataRecords
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#maxsamplerate'
                  class="">
                  maxSampleRate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#minsamplerate'
                  class="">
                  minSampleRate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#maxtimeforrecord'
                  class="">
                  maxTimeForRecord
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='allowed_flags'>
      Allowed_Flags
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L18-L18'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>Allowed_Flags</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mseedarchive'>
      MSeedArchive
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L39-L208'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>A web based connection to an archive of miniseed files
arranged based on a pattern using n, s, l, c, Y, j, H
for network, station, locid, channel, year, day of year
and hour. This is a subset of the options available within
the IRIS Ringserver MSeedArchive option, on which this
is based. Retrieved seismograms are cut from the larger
miniseed files retrieved via http(s), and so there is
wasted bandwidth to the server. On the other hand this
requires no extra software on the server side beyond
a directory structure with suitably small miniseed files.
Generally we find channel-hour is a reasonable size for
most seismic channels. The URL to needed files is
constructed by concatenating the rootUrl with the pattern
using a time range large enough to get all overlaps
based on the smallest sample rate per channel band code
and record size, which defaults to 512.</p>

    <div class='pre p1 fill-light mt0'>new MSeedArchive(rootUrl: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, pattern: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rootUrl</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pattern</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mseedarchive_rooturl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_rootUrl</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L40-L40'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>_rootUrl</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchive_pattern'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_pattern</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L41-L41'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>_pattern</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchive_recordsize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_recordSize</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L42-L42'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>_recordSize</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchive_timeoutsec'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>_timeoutSec</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L43-L43'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>_timeoutSec</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchiverooturl'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>rootUrl</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L51-L53'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>rootUrl</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchivepattern'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>pattern</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L54-L56'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>pattern</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchiverecordsize'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>recordSize</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L57-L59'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>recordSize</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchivecheckpattern'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>checkPattern(p)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L74-L87'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>checks pattern for allowed flags as not all that are supported
by ringserver are supported here. Must only include:</p>
<ul>
<li>n network code, white space removed</li>
<li>s station code, white space removed</li>
<li>l  location code, white space removed</li>
<li>c  channel code, white space removed</li>
<li>Y  year, 4 digits</li>
<li>j  day of year, 3 digits zero padded</li>
<li>H  hour, 2 digits zero padded</li>
</ul>

    <div class='pre p1 fill-light mt0'>checkPattern(p: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>p</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    mseed archive pattern string

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        true if all flags are allowed

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchiveloadseismograms'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadSeismograms(channelTimeList)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L98-L123'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Loads seismograms from the remote miniseed archive via
http(s). Files downloaded include all that might overlap
the given time window based on record size,
the minimum sample rate
for the channel band code and the given time window.</p>

    <div class='pre p1 fill-light mt0'>loadSeismograms(channelTimeList: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;SeismogramDisplayData>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;SeismogramDisplayData>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>channelTimeList</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;SeismogramDisplayData>)</code>
	    requst channels and time windows

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;SeismogramDisplayData>></code>:
        Promise to the same SeismogramDisplayData array, but with seismograms populated

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchiveloaddataforchannel'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadDataForChannel(channel, startTime, endTime)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L132-L140'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Loads miniseed records based on channel and time window.</p>

    <div class='pre p1 fill-light mt0'>loadDataForChannel(channel: Channel, startTime: moment, endTime: moment): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>channel</span> <code class='quiet'>(Channel)</code>
	    channel to request

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startTime</span> <code class='quiet'>(moment)</code>
	    start time

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endTime</span> <code class='quiet'>(moment)</code>
	    end time

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></code>:
        Promise to array of miniseed records

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchiveloaddata'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>loadData(net, sta, loc, chan, startTime, endTime, sampleRate)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L153-L179'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Loads miniseed records based on string channel codes.</p>

    <div class='pre p1 fill-light mt0'>loadData(net: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, sta: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, loc: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, chan: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, startTime: moment, endTime: moment, sampleRate: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>net</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    network code

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sta</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    station code

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>loc</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    location code

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chan</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    channel code

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startTime</span> <code class='quiet'>(moment)</code>
	    start time

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endTime</span> <code class='quiet'>(moment)</code>
	    end time

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sampleRate</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    known sample rate for this channel

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></code>:
        Promise to array of miniseed records

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchivefillbasepattern'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fillBasePattern(net, sta, loc, chan)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L189-L194'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Replaces codes from channel in base pattern.</p>

    <div class='pre p1 fill-light mt0'>fillBasePattern(net: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, sta: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, loc: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, chan: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>net</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    string to replace '%n'

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sta</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    string to replace '%s'

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>loc</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    string to replace '%l'

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chan</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    string to replace '%c'

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        new string with channel replacements made

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mseedarchivefilltimepattern'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>fillTimePattern(basePattern, t)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L202-L207'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Replaces time entries ( %Y, %j, %H ) in pattern.</p>

    <div class='pre p1 fill-light mt0'>fillTimePattern(basePattern: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, t: moment): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>basePattern</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    pattern to replace in

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>t</span> <code class='quiet'>(moment)</code>
	    moment in time

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        string with time replaces

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='loaddatarecords'>
      loadDataRecords
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L210-L250'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>loadDataRecords(urlList: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, fetchInit: {}?, timeoutSec: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>urlList</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>fetchInit</span> <code class='quiet'>({}?)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>timeoutSec</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;miniseed.DataRecord>></code>
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='maxsamplerate'>
      maxSampleRate
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L260-L292'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Gives the maximum sample rate for the channel, based on the
band code, first char, of the channel code.</p>

    <div class='pre p1 fill-light mt0'>maxSampleRate(chan: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chan</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    channel code like BHZ, only the first letter is used

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        mimumum sample rate this could be

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='minsamplerate'>
      minSampleRate
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L302-L334'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Gives the minimum sample rate for the channel, based on the
band code, first char, of the channel code.</p>

    <div class='pre p1 fill-light mt0'>minSampleRate(chan: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>chan</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    channel code like BHZ, only the first letter is used

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        mimumum sample rate this could be
*

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='maxtimeforrecord'>
      maxTimeForRecord
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/crotwell/seisplotjs/blob/73301e9898fa2f8cbdb129a1fe453add8b71633a/src/mseedarchive.js#L345-L347'>
      <span>src/mseedarchive.js</span>
      </a>
    
  </div>
  

  <p>Calculates the maximum time coverage for a single miniseed record
given the record size (usually 512 or 4096) and the sample rate (Hertz).
This assumes 40 bytes of header and maximum compression of 2 samples
per byte (4 bit per sample) which is the best Steim2.</p>

    <div class='pre p1 fill-light mt0'>maxTimeForRecord(recordSize: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, sampleRate: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>recordSize</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    record size (usually 512 or 4096)

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>sampleRate</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    sample rate of record

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        maximum interval of time that a full record could cover when
compression is at its most efficient

      
    
  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
